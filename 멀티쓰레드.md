# 멀티쓰레드
    하나의 프로세스 내에서 여러개 의 쓰레드를 동시에 실행하는 기술
    병렬처리를 통해 성능향상이 가능함

### 프로세스
- 실행중인 프로그램의 인스턴스
- 독립된 메모리 공간을 가짐

### 쓰레드
- 프로세스 내에서 실행되는 작은 실행 단위
- 독립적으로 실행됨
- 동일한 메모리 공간를 공유
### 멀티쓰레딩
- 하나의 프로세스에서 여러개의 쓰레드를 가지고 있고 쓰레드를 독립적으로 실행 같은 메모리를 공유하기 때문에 서로 통신이 원활하다.

### 장점
- 병렬성
    - 여러작업을 동시에 진행할 수 있음, 때문에 처리속도 향상
- 효율적인 자원 활용
    -   멀티쓰레딩을 이용해서 CPU사용량을 극대화할 수 있음

### 단점
- 복잡성 증가
    - 멀티쓰레딩 프로그래밍은 디버그,테스트 및 유지보수가 힘듬
    - 쓰레드간 교착 상태를 관리해주어야함

- 동기화 오버헤드
    - 스레드 간 데이터 접근을 조율하기위해서 동기화 작업이 필요함, 성능저하 가능성이 있음

- 컨텍스트 스위칭 오버헤드
    -  CPU가 쓰레드를 스위칭할 때 시간이 걸리기 때문에 오히려 많은 쓰레드를 사용할 경우 성능저하가 있을 수 있음

## 주요개념
1. 동기화
    - 여러 쓰레드가 하나의 메모리에 접근하기 때문에 데이터의 일관성을 유지하기 위해서 사용
    - 뮤텍스 , 세마포어 , 락
2. 교착상태 ( DeadLock )
    - 두 개 이상의 쓰레드가 서로필요하는 데이터를 점유하고 있어서 더이상 진행할수 없는 상태
        - A에서는 b라는 데이터를 사용중이고 a의 데이터를 원함
        - B에서는 a라는 데이터를 사용중이고 b의 데이터를 원함
        - 서로가 점유중인 데이터를 원하기 때문에 데이터를 접근하기위해 무한 대기 할 것임
    
3. 경쟁 상태 ( Race Condition )
    - 두 개 이상의 쓰레드가 동시에 같은 자원을 접근하려고 할 때 예기치 못한 상황이 발생하는 상황
    - 적당한 동기화 작업이 필요함

4. 스레드 풀 ( Thread pool )
    - 많은 수의 단기 작업을 처리할 때 사용되는 기법
    - 미리 생성된 쓰레드 집합을 이용해서 처리
    - 쓰레드를 재사용함으로서 자원 사용을 최적화 할 수 있음


## 뮤텍스
멀티쓰레드 환경에서 공유자원에 대한 접근을 제어하기 위한 도구

- Lock & Unlock
    - Lock : 쓰레드가 임계영역에 접근할 때 다른 쓰레드가 접근하지 못하도록 잠금
        - 다른 쓰레드들은 이 락이 풀릴 때 까지 대기하게 됨
    - Unlock : 쓰레드가 임계영역에서 나올 때 락을 해제
        - 대기중인 다른 쓰레드가 접근을 할 수 있게 됨

- 임계영역
    - 여러쓰레드가 동시에 접근하면 안되는 공유자원에 접근하려고 하는 코드블록
    - 임계영역을 락해서 하나의 쓰레드만 접근 할 수 있도록 해야함

- 교착 상태
    - 두개 이상의 쓰레드가 서로가 필요로하는 락을 획득한 상태에서 대기하는 상황
        - 이를 방지하기 위해 타임아웃을 설정하거나 순서를 정해줄수 있음